<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/guard/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/guard/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(1)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(1) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(1) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(1) > ul.nav-list { display: block; } </style> <script src="/guard/assets/js/vendor/lunr.min.js"></script> <script src="/guard/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Home | Agent Policy</title> <meta name="generator" content="Jekyll v4.4.1" /> <meta property="og:title" content="Home" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A declarative policy language for controlling AI agent autonomy." /> <meta property="og:description" content="A declarative policy language for controlling AI agent autonomy." /> <link rel="canonical" href="http://localhost:4000/guard/" /> <meta property="og:url" content="http://localhost:4000/guard/" /> <meta property="og:site_name" content="Agent Policy" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Home" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebSite","description":"A declarative policy language for controlling AI agent autonomy.","headline":"Home","name":"Agent Policy","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/guard/assets/img/logo.svg"}},"url":"http://localhost:4000/guard/"}</script> <!-- End Jekyll SEO tag --> <link rel="stylesheet" href="/guard/assets/css/custom.css"> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <header class="side-bar"> <div class="site-header"> <a href="/guard/" class="site-title lh-tight"> <div class="site-logo" role="img" aria-label="Agent Policy"></div> </a> <button id="menu-button" class="site-button btn-reset" aria-label="Menu" aria-expanded="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/guard/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/guard/getting-started/" class="nav-list-link">Getting Started</a></li><li class="nav-list-item"><a href="/guard/policy-language/" class="nav-list-link">Policy Language</a></li><li class="nav-list-item"><a href="/guard/effects/" class="nav-list-link">Effects</a></li><li class="nav-list-item"><a href="/guard/context-fallbacks/" class="nav-list-link">Context Fallbacks</a></li><li class="nav-list-item"><a href="/guard/examples/" class="nav-list-link">Examples</a></li><li class="nav-list-item"><a href="/guard/sdk-reference/" class="nav-list-link">SDK Reference</a></li></ul> </nav> <div class="d-md-block d-none site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </div> </header> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Agent Policy" autocomplete="off"> <label for="search-input" class="search-label"> <span class="sr-only">Search Agent Policy</span> <svg viewBox="0 0 24 24" class="search-icon" aria-hidden="true"><use xlink:href="#svg-search"></use></svg> </label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/agent-policy/guard" class="site-button" > GitHub </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <p align="center"> <img src="/guard/assets/img/logo-wide.svg" alt="Agent Policy" width="260" style="background:none;border:none;padding:0" /> </p> <h1 id="agent-policy"> <a href="#agent-policy" class="anchor-heading" aria-labelledby="agent-policy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Agent Policy </h1> <p class="fs-6 fw-300">A declarative policy language for controlling AI agent autonomy.</p> <p>Agent Policy lets teams define guardrails that govern what an AI agent can do, when it needs human approval, and when it should be blocked entirely. Policies are written in YAML, version-controlled alongside code, and evaluated at runtime before every tool invocation.</p> <p><a href="/guard/getting-started/" class="btn btn-primary fs-5 mb-4 mb-md-0 mr-2">Get Started</a> <a href="/guard/policy-language/" class="btn fs-5 mb-4 mb-md-0">Policy Language</a></p><hr /> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 720 220" fill="none" style="width:100%;max-width:720px;margin:0 auto;display:block"> <!-- Center: PolicyEngine check mark --> <polyline points="330,108 350,128 400,72" stroke="#3FB950" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round" /> <!-- Left: YAML doc --> <rect x="40" y="40" width="120" height="140" rx="6" fill="#131920" stroke="#30363D" stroke-width="1.5" /> <line x1="56" y1="60" x2="140" y2="60" stroke="#D29922" stroke-width="2" stroke-linecap="round" /> <line x1="56" y1="76" x2="128" y2="76" stroke="#30363D" stroke-width="1.5" stroke-linecap="round" /> <line x1="56" y1="92" x2="136" y2="92" stroke="#30363D" stroke-width="1.5" stroke-linecap="round" /> <line x1="56" y1="108" x2="120" y2="108" stroke="#30363D" stroke-width="1.5" stroke-linecap="round" /> <line x1="56" y1="124" x2="132" y2="124" stroke="#30363D" stroke-width="1.5" stroke-linecap="round" /> <line x1="56" y1="140" x2="116" y2="140" stroke="#30363D" stroke-width="1.5" stroke-linecap="round" /> <line x1="56" y1="156" x2="124" y2="156" stroke="#30363D" stroke-width="1.5" stroke-linecap="round" /> <text x="100" y="202" text-anchor="middle" fill="#8B949E" font-family="system-ui,sans-serif" font-size="11">Policy YAML</text> <!-- Arrow left to engine --> <line x1="170" y1="110" x2="262" y2="110" stroke="#484F58" stroke-width="1.5" marker-end="url(#arrowhead)" /> <!-- Arrow engine to right --> <line x1="458" y1="110" x2="530" y2="110" stroke="#484F58" stroke-width="1.5" marker-end="url(#arrowhead)" /> <!-- Right: verdict cards --> <rect x="540" y="38" width="130" height="36" rx="6" fill="rgba(63,185,80,0.10)" stroke="#3FB950" stroke-width="1.5" /> <text x="605" y="61" text-anchor="middle" fill="#3FB950" font-family="system-ui,sans-serif" font-size="13" font-weight="600">allow</text> <rect x="540" y="84" width="130" height="36" rx="6" fill="rgba(248,81,73,0.10)" stroke="#F85149" stroke-width="1.5" /> <text x="605" y="107" text-anchor="middle" fill="#F85149" font-family="system-ui,sans-serif" font-size="13" font-weight="600">deny</text> <rect x="540" y="130" width="130" height="36" rx="6" fill="rgba(210,153,34,0.12)" stroke="#D29922" stroke-width="1.5" /> <text x="605" y="153" text-anchor="middle" fill="#D29922" font-family="system-ui,sans-serif" font-size="13" font-weight="600">hitl / aitl / pitl</text> <text x="605" y="202" text-anchor="middle" fill="#8B949E" font-family="system-ui,sans-serif" font-size="11">Verdict</text> <!-- Engine label --> <text x="360" y="202" text-anchor="middle" fill="#8B949E" font-family="system-ui,sans-serif" font-size="11">PolicyEngine</text> <!-- Arrowhead marker --> <defs> <marker id="arrowhead" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"> <polygon points="0 0, 8 3, 0 6" fill="#484F58" /> </marker> </defs> </svg> <h2 id="how-it-works"> <a href="#how-it-works" class="anchor-heading" aria-labelledby="how-it-works"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How it works </h2> <ol> <li><strong>Write a policy</strong> – a YAML file that maps tools, execution modes, risk levels, and models to effects like <code class="language-plaintext highlighter-rouge">allow</code>, <code class="language-plaintext highlighter-rouge">deny</code>, <code class="language-plaintext highlighter-rouge">hitl</code>, or <code class="language-plaintext highlighter-rouge">filter</code>.</li> <li><strong>Load the policy</strong> into a <code class="language-plaintext highlighter-rouge">PolicyEngine</code> in your runtime – available in Python, TypeScript, and Go.</li> <li><strong>Evaluate before every tool call</strong> – the engine returns a verdict (effect + channel + matched policy ID) that your runtime dispatches on.</li> </ol> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">agent-policy/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">PolicySet</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">my-guardrails</span>
<span class="na">defaults</span><span class="pi">:</span>
  <span class="na">effect</span><span class="pi">:</span> <span class="s">hitl</span>
<span class="na">policies</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">allow-readonly</span>
    <span class="na">priority</span><span class="pi">:</span> <span class="m">10</span>
    <span class="na">condition</span><span class="pi">:</span>
      <span class="na">tools</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">view</span><span class="pi">,</span> <span class="nv">grep</span><span class="pi">,</span> <span class="nv">glob</span><span class="pi">]</span>
    <span class="na">effect</span><span class="pi">:</span> <span class="s">allow</span>
  <span class="pi">-</span> <span class="na">id</span><span class="pi">:</span> <span class="s">deny-bg-infra</span>
    <span class="na">priority</span><span class="pi">:</span> <span class="m">20</span>
    <span class="na">condition</span><span class="pi">:</span>
      <span class="na">modes</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">background</span><span class="pi">]</span>
      <span class="na">tools</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">bash</span><span class="pi">,</span> <span class="nv">run</span><span class="pi">,</span> <span class="s2">"</span><span class="s">mcp:github-*"</span><span class="pi">]</span>
    <span class="na">effect</span><span class="pi">:</span> <span class="s">deny</span>
</code></pre></div></div> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">agent_policy_guard</span> <span class="kn">import</span> <span class="n">PolicyEngine</span><span class="p">,</span> <span class="n">EvalContext</span><span class="p">,</span> <span class="n">load_policy_set</span>

<span class="n">engine</span> <span class="o">=</span> <span class="nc">PolicyEngine</span><span class="p">(</span><span class="nf">load_policy_set</span><span class="p">(</span><span class="sh">"</span><span class="s">policy.yaml</span><span class="sh">"</span><span class="p">))</span>
<span class="n">action</span> <span class="o">=</span> <span class="n">engine</span><span class="p">.</span><span class="nf">resolve</span><span class="p">(</span><span class="nc">EvalContext</span><span class="p">(</span><span class="n">tool</span><span class="o">=</span><span class="sh">"</span><span class="s">bash</span><span class="sh">"</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="sh">"</span><span class="s">background</span><span class="sh">"</span><span class="p">))</span>
<span class="c1"># action == "deny"
</span></code></pre></div></div> <h2 id="key-features"> <a href="#key-features" class="anchor-heading" aria-labelledby="key-features"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Key features </h2> <ul> <li><strong>Extensible effects</strong> – <code class="language-plaintext highlighter-rouge">allow</code>, <code class="language-plaintext highlighter-rouge">deny</code>, <code class="language-plaintext highlighter-rouge">hitl</code>, <code class="language-plaintext highlighter-rouge">aitl</code>, <code class="language-plaintext highlighter-rouge">pitl</code>, <code class="language-plaintext highlighter-rouge">filter</code>, or any custom string your runtime understands.</li> <li><strong>Context fallbacks</strong> – map execution modes to fallback modes so policies compose without duplication.</li> <li><strong>Glob matching</strong> – use <code class="language-plaintext highlighter-rouge">*</code> and <code class="language-plaintext highlighter-rouge">?</code> patterns in tool names, models, users, and MCP servers.</li> <li><strong>Priority ordering</strong> – lower number wins, first match returns. Predictable, auditable evaluation.</li> <li><strong>Three SDKs</strong> – Python, TypeScript, and Go with identical semantics. Write policies once, evaluate anywhere.</li> </ul> <div class="sdk-badges" style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px"> <img src="/guard/assets/img/sdk-python.svg" alt="Python SDK" width="120" height="32" /> <img src="/guard/assets/img/sdk-typescript.svg" alt="TypeScript SDK" width="140" height="32" /> <img src="/guard/assets/img/sdk-go.svg" alt="Go SDK" width="120" height="32" /> </div> <ul> <li><strong>JSON Schema</strong> – validate policies in CI before they reach production.</li> </ul> <blockquote class="warning"> <p>Agent Policy is under active development. The library is not yet published to any package registry (PyPI, npm, or Go modules). Install from source via <code class="language-plaintext highlighter-rouge">git clone</code> for now. See <a href="/guard/getting-started/">Getting Started</a> for details.</p> </blockquote> </main> <hr> <footer> <p class="text-small mb-0">Agent Policy is open source under the MIT License.</p> <div class="d-md-none mt-4 fs-2"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
